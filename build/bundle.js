module.exports=function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";"use latest";var r=n(26),o=n(91),s=n(3);s.info("Starting webtask.");var i=null,u=function(t,e){return i||(r.defaults({AUTH0_DOMAIN:t.webtaskContext.secrets.AUTH0_DOMAIN,AUTH0_CLIENT_ID:t.webtaskContext.secrets.AUTH0_CLIENT_ID,AUTH0_CLIENT_SECRET:t.webtaskContext.secrets.AUTH0_CLIENT_SECRET,EXTENSION_SECRET:t.webtaskContext.secrets.EXTENSION_SECRET,NODE_ENV:"production",HOSTING_ENV:"webtask",CLIENT_VERSION:"0.1.0",WT_URL:t.webtaskContext.secrets.WT_URL,TITLE:"User Management"}),i=n(33)(t.webtaskContext.storage)),i(t,e)};t.exports=o.fromExpress(function(t,e){return u(t,e)})},function(t,e){t.exports=require("express")},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.setProvider=void 0;var o=n(26),s=r(o),i=null;e.setProvider=function(t){i=t},e["default"]=function(t){return i?i(t):s["default"].get(t)}},function(t,e,n){"use strict";var r=n(92);r.emitErrs=!0;var o=new r.Logger({transports:[new r.transports.Console({timestamp:!0,level:"debug",handleExceptions:!0,json:!1,colorize:!0})],exitOnError:!1});t.exports=o,t.exports.stream={write:function(t){o.info(t.replace(/\n$/,""))}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.validateHookToken=e.managementClient=e.errorHandler=void 0;var o=n(35),s=r(o),i=n(36),u=r(i),a=n(37),c=r(a);e.errorHandler=s["default"],e.managementClient=u["default"],e.validateHookToken=c["default"]},function(t,e){t.exports=require("bluebird")},function(t,e){t.exports=require("lodash")},function(t,e){t.exports=require("path")},function(t,e){function n(t){return!!t&&"object"==typeof t}t.exports=n},function(t,e){var n=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},function(t,e,n){t.exports=!n(11)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){function r(t){var e=o(t)?a.call(t):"";return e==s||e==i}var o=n(30),s="[object Function]",i="[object GeneratorFunction]",u=Object.prototype,a=u.toString;t.exports=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(87),s=r(o),i=n(5),u=r(i),a=n(78),c=r(a),l=n(22),f=r(l),p=n(2),d=r(p),h=n(3),_=r(h),m=n(23);"webtask"===(0,d["default"])("HOSTING_ENV")&&(m=n(24));var v=u["default"].promisify((0,c["default"])({load:function(t,e,n,r){_["default"].debug("Requesting access token for "+e+" - https://"+t+"/api/v2/");var o={uri:"https://"+t+"/oauth/token",body:{audience:"https://"+t+"/api/v2/",grant_type:"client_credentials",client_id:e,client_secret:n},json:!0};f["default"].post(o).then(function(t){r(null,t.access_token)})["catch"](function(t){r(t)})},hash:function(t,e,n){return t+"/"+e+"/"+n},max:100,maxAge:(0,s["default"])("1h")}));t.exports.getAccessToken=v,t.exports.getForClient=function(t,e,n){return v(t,e,n).then(function(e){return new m.ManagementClient({domain:t,token:e})})},t.exports.getForAccessToken=function(t,e){return u["default"].resolve(new m.ManagementClient({domain:t,token:e}))}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=n(48),s=r(o);e["default"]=s["default"]||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var r=n(54);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(19),o=n(18);t.exports=function(t){return r(o(t))}},function(t,e,n){"use strict";var r=n(5).getNewLibraryCopy(),o=n(27),s=n(79);try{var i=s(n.c,function(){return n(89)})}catch(u){var a=n(88).EOL;throw console.error(a+"###"+a+'### The "request" library is not installed automatically anymore.'+a+'### But required by "request-promise".'+a+"###"+a+"### npm install request --save"+a+"###"+a),u}r.config({cancellation:!0}),o({request:i,PromiseImpl:r,expose:["then","catch","finally","cancel","promise"],constructorMixin:function(t,e,n){var r=this;n(function(){r.abort()})}}),i.bindCLS=function(){throw new Error("CLS support was dropped. To get it back read: https://github.com/request/request-promise/wiki/Getting-Back-Support-for-Continuation-Local-Storage")},t.exports=i},function(t,e){t.exports=require("auth0")},function(t,e){t.exports=require("auth0@2.0.0")},function(t,e){t.exports=require("fs")},function(t,e){t.exports=require("nconf")},function(t,e,n){"use strict";var r=n(29),o=n(14),s=n(15),i=n(8);t.exports=function(t){var e="Please verify options";if(!i(t))throw new TypeError(e);if(!s(t.request))throw new TypeError(e+".request");if(!o(t.expose)||0===t.expose.length)throw new TypeError(e+".expose");var n=r({PromiseImpl:t.PromiseImpl,constructorMixin:t.constructorMixin}),u=t.request.Request.prototype.init;t.request.Request.prototype.init=function(t){return!i(t)||this._callback||this._rp_promise||n.init.call(this,t),u.apply(this,arguments)};for(var a=!1,c=0;c<t.expose.length;c+=1){var l=t.expose[c];n["promise"===l?"exposePromise":"exposePromiseMethod"](t.request.Request.prototype,null,"_rp_promise",l),"then"===l&&(a=!0)}if(!a)throw new Error('Please expose "then"')}},function(t,e){"use strict";function n(t,e,n){this.name="RequestError",this.message=String(t),this.cause=t,this.error=t,this.options=e,this.response=n,Error.captureStackTrace&&Error.captureStackTrace(this)}function r(t,e,n,r){this.name="StatusCodeError",this.statusCode=t,this.message=t+" - "+(JSON&&JSON.stringify?JSON.stringify(e):e),this.error=e,this.options=n,this.response=r,Error.captureStackTrace&&Error.captureStackTrace(this)}function o(t,e,n){this.name="TransformError",this.message=String(t),this.cause=t,this.error=t,this.options=e,this.response=n,Error.captureStackTrace&&Error.captureStackTrace(this)}n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,o.prototype=Object.create(Error.prototype),o.prototype.constructor=o,t.exports={RequestError:n,StatusCodeError:r,TransformError:o}},function(t,e,n){"use strict";var r=n(28),o=n(15),s=n(8),i=n(31),u=n(32);t.exports=function(t){var e="Please verify options";if(!s(t))throw new TypeError(e);if(!o(t.PromiseImpl))throw new TypeError(e+".PromiseImpl");if(!u(t.constructorMixin)&&!o(t.constructorMixin))throw new TypeError(e+".PromiseImpl");var n=t.PromiseImpl,a=t.constructorMixin,c={};return c.init=function(t){var e=this;e._rp_promise=new n(function(t,n){e._rp_resolve=t,e._rp_reject=n,a&&a.apply(e,arguments)}),e._rp_callbackOrig=t.callback,t.callback=e.callback=function(t,n,r){c.callback.call(e,t,n,r)},i(t.method)&&(t.method=t.method.toUpperCase()),t.transform=t.transform||c.defaultTransformations[t.method],e._rp_options=t,e._rp_options.simple=t.simple!==!1,e._rp_options.resolveWithFullResponse=t.resolveWithFullResponse===!0,e._rp_options.transform2xxOnly=t.transform2xxOnly===!0},c.defaultTransformations={HEAD:function(t,e,n){return n?e:e.headers}},c.callback=function(t,e,s){var i=this,u=!1,a=null;if(o(i._rp_callbackOrig))try{i._rp_callbackOrig.apply(i,arguments)}catch(c){u=!0,a=c}var l=!t&&/^2/.test(""+e.statusCode);if(t?i._rp_reject(new r.RequestError(t,i._rp_options,e)):i._rp_options.simple&&!l?o(i._rp_options.transform)&&i._rp_options.transform2xxOnly===!1?new n(function(t){t(i._rp_options.transform(s,e,i._rp_options.resolveWithFullResponse))}).then(function(t){i._rp_reject(new r.StatusCodeError(e.statusCode,s,i._rp_options,t))})["catch"](function(t){i._rp_reject(new r.TransformError(t,i._rp_options,e))}):i._rp_reject(new r.StatusCodeError(e.statusCode,s,i._rp_options,e)):o(i._rp_options.transform)&&(l||i._rp_options.transform2xxOnly===!1)?new n(function(t){t(i._rp_options.transform(s,e,i._rp_options.resolveWithFullResponse))}).then(function(t){i._rp_resolve(t)})["catch"](function(t){i._rp_reject(new r.TransformError(t,i._rp_options,e))}):i._rp_options.resolveWithFullResponse?i._rp_resolve(e):i._rp_resolve(s),u)throw a},c.exposePromiseMethod=function(t,e,n,r,o){if(o=o||r,o in t)throw new Error('Unable to expose method "'+o+'"');t[o]=function(){var t=e||this;return t[n][r].apply(t[n],arguments)}},c.exposePromise=function(t,e,n,r){if(r=r||"promise",r in t)throw new Error('Unable to expose method "'+r+'"');t[r]=function(){var t=e||this;return t[n]}},c}},function(t,e){function n(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}t.exports=n},function(t,e,n){function r(t){return"string"==typeof t||!o(t)&&s(t)&&a.call(t)==i}var o=n(14),s=n(8),i="[object String]",u=Object.prototype,a=u.toString;t.exports=r},function(t,e){function n(t){return void 0===t}t.exports=n},function(t,e,n){(function(e){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function o(t){return t&&t.__esModule?t:{"default":t}}var s=n(7),i=o(s),u=n(86),a=o(u),c=n(1),l=o(c),f=n(80),p=o(f),d=n(39),h=o(d),_=n(42),m=o(_),v=n(45),y=o(v),g=n(43),x=o(g),b=n(3),w=o(b),E=n(4),T=r(E);t.exports=function(t){var n=new l["default"];return n.use((0,a["default"])(":method :url :status :response-time ms - :res[content-length]",{stream:w["default"].stream})),n.use(p["default"].json()),n.use(p["default"].urlencoded({extended:!1})),n.use("/api",(0,h["default"])(n,t)),n.use("/app",l["default"]["static"](i["default"].join(e,"../dist"))),n.use("/meta",(0,y["default"])()),n.use("/.extensions",(0,m["default"])()),n.get("*",(0,x["default"])(t)),n.use(T.errorHandler),n}}).call(e,"/")},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(5),s=r(o),i=n(2),u=r(i),a=n(23);"webtask"===(0,u["default"])("HOSTING_ENV")&&(a=n(24)),t.exports.getForClient=function(t,e){return s["default"].resolve(new a.AuthenticationClient({domain:t,clientId:e}))}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(3),s=r(o);t.exports=function(t,e,n,r){return s["default"].error(t),t&&"NotFoundError"===t.name?(n.status(404),n.json({error:t.message})):t&&"ValidationError"===t.name?(n.status(400),n.json({error:t.message})):(n.status(t.status||500),void n.json({message:t.message}))}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(2),s=r(o),i=n(16),u=r(i);t.exports=function(t,e,n){u["default"].getForClient((0,s["default"])("AUTH0_DOMAIN"),(0,s["default"])("AUTH0_CLIENT_ID"),(0,s["default"])("AUTH0_CLIENT_SECRET")).then(function(e){t.auth0=e,n()})["catch"](function(t){n(t)})}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(7),s=r(o),i=n(83),u=r(i),a=n(2),c=r(a),l=n(3),f=r(l);t.exports=function(t){return function(e,n,r){if(e.headers.authorization&&"Bearer"===e.headers.authorization.split(" ")[0]){var o=e.headers.authorization.split(" ")[1],i=u["default"].verify(o,(0,c["default"])("EXTENSION_SECRET"),{audience:s["default"].join((0,c["default"])("WT_URL"),t),issuer:"https://"+(0,c["default"])("AUTH0_DOMAIN")});return i?r():(f["default"].error("Invalid hook token:",o),n.sendStatus(401))}return f["default"].error("Hook token is missing."),n.sendStatus(401)}}},function(t,e,n){(function(t){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.writeStorage=e.readStorage=void 0;var o=n(47),s=r(o),i=n(17),u=r(i),a=n(25),c=r(a),l=n(7),f=r(l),p=n(5),d=r(p),h={},_=e.readStorage=function(e){return e?new d["default"](function(t,n){e.get(function(e,r){if(e)return n(e);var o=r||h;return t(o)})}):new d["default"](function(e,n){c["default"].readFile(f["default"].join(t,"../data.json"),"utf8",function(t,r){return t?n(t):e(JSON.parse(r||"{ }"))})})};e.writeStorage=function(e,n){return e?new d["default"](function(t,r){e.set(n,{force:1},function(e){return e?r(e):t()})}):_(e).then(function(t){return(0,u["default"])({},t,n)}).then(function(e){return new d["default"](function(n,r){c["default"].writeFile(f["default"].join(t,"../data.json"),(0,s["default"])(e,null,2),"utf8",function(t){return t?r(t):n()})})})}}).call(e,"/")},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function o(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var s=n(82),i=o(s),u=n(1),a=n(84),c=n(2),l=o(c),f=n(4),p=r(f),d=n(40),h=o(d),_=n(41),m=o(_),v=n(44),y=o(v),g=n(46),x=o(g);e["default"]=function(){var t=(0,u.Router)();return t.use(p.managementClient),t.use((0,i["default"])({secret:(0,a.expressJwtSecret)({cache:!0,rateLimit:!0,jwksRequestsPerMinute:5,jwksUri:"https://"+(0,l["default"])("AUTH0_DOMAIN")+"/.well-known/jwks.json"}),audience:(0,l["default"])("EXTENSION_SECRET"),issuer:"https://"+(0,l["default"])("AUTH0_DOMAIN")+"/",algorithms:["RS256"]})),t.use("/applications",(0,h["default"])()),t.use("/connections",(0,m["default"])()),t.use("/users",(0,x["default"])()),t.use("/logs",(0,y["default"])()),t}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(6),s=r(o),i=n(1),u=n(4);e["default"]=function(){var t=(0,i.Router)();return t.get("/",u.managementClient,function(t,e,n){t.auth0.clients.getAll({fields:"client_id,name,callbacks,global"}).then(function(t){return s["default"].chain(t).filter({global:!1}).sortBy(function(t){return t.name.toLowerCase()}).value()}).then(function(t){return s["default"].sortByOrder(t,["groups.length"],[!1])}).then(function(t){return e.json(t)})["catch"](n)}),t}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(6),s=r(o),i=n(1),u=n(4);e["default"]=function(){var t=(0,i.Router)();return t.get("/",u.managementClient,function(t,e,n){t.auth0.connections.getAll({fields:"id,name,strategy,enabled_clients"}).then(function(t){return s["default"].chain(t).sortBy(function(t){return t.name.toLowerCase()}).value()}).then(function(t){return e.json(t)})["catch"](n)}),t}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(6),s=(r(o),n(5)),i=(r(s),n(1)),u=n(3),a=(r(u),n(4));e["default"]=function(){var t=(0,i.Router)();return t.use("/on-install",(0,a.validateHookToken)("/.extensions/on-install")),t.use("/on-uninstall",(0,a.validateHookToken)("/.extensions/on-uninstall")),t["delete"]("/on-uninstall",a.managementClient,function(t,e){e.sendStatus(204)}),t}},function(t,e,n){(function(t){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(17),s=r(o),i=n(25),u=r(i),a=n(90),c=r(a),l=n(81),f=r(l),p=n(7),d=r(p),h=n(2),_=r(h),m=n(38);e["default"]=function(e){var n='\n  <!DOCTYPE html>\n  <html lang="en">\n  <head>\n    <title><%= config.TITLE %></title>\n    <meta charset="UTF-8" />\n    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />\n    <meta name="viewport" content="width=device-width, initial-scale=1.0" />\n    <link rel="shortcut icon" href="https://cdn.auth0.com/styleguide/4.6.13/lib/logos/img/favicon.png">\n    <meta name="viewport" content="width=device-width, initial-scale=1">\n    <link rel="stylesheet" type="text/css" href="https://cdn.auth0.com/styles/zocial.min.css" />\n    <link rel="stylesheet" type="text/css" href="https://cdn.auth0.com/manage/v0.3.1672/css/index.min.css" />\n    <link rel="stylesheet" type="text/css" href="https://cdn.auth0.com/styleguide/4.6.13/index.min.css" />\n    <% if (assets.style) { %><link rel="stylesheet" type="text/css" href="/app/<%= assets.style %>" /><% } %>\n    <% if (assets.version) { %><link rel="stylesheet" type="text/css" href="//cdn.auth0.com/extensions/auth0-delegated-admin/assets/auth0-delegated-admin.ui.<%= assets.version %>.css" /><% } %>\n    <% if (assets.customCss) { %><link rel="stylesheet" type="text/css" href="<%= assets.customCss %>" /><% } %>\n  </head>\n  <body>\n    <div id="app"></div>\n    <script type="text/javascript" src="//cdn.auth0.com/js/lock-9.2.min.js"></script>\n    <script type="text/javascript" src="//cdn.auth0.com/manage/v0.3.1672/js/bundle.js"></script>\n    <script type="text/javascript">window.config = <%- JSON.stringify(config) %>;</script>\n    <% if (assets.vendors) { %><script type="text/javascript" src="/app/<%= assets.vendors %>"></script><% } %>\n    <% if (assets.app) { %><script type="text/javascript" src="/app/<%= assets.app %>"></script><% } %>\n    <% if (assets.version) { %>\n    <script type="text/javascript" src="//cdn.auth0.com/extensions/auth0-delegated-admin/assets/auth0-delegated-admin.ui.vendors.<%= assets.version %>.js"></script>\n    <script type="text/javascript" src="//cdn.auth0.com/extensions/auth0-delegated-admin/assets/auth0-delegated-admin.ui.<%= assets.version %>.js"></script>\n    <% } %>\n  </body>\n  </html>\n  ';return function(r,o,i){return 0===r.url.indexOf("/api")?i():void(0,m.readStorage)(e).then(function(e){var i={AUTH0_DOMAIN:(0,_["default"])("AUTH0_DOMAIN"),AUTH0_CLIENT_ID:(0,_["default"])("EXTENSION_CLIENT_ID"),BASE_URL:c["default"].format({protocol:"production"!==(0,_["default"])("NODE_ENV")?"http":"https",host:r.get("host"),pathname:c["default"].parse(r.originalUrl||"").pathname.replace(r.path,"")}),BASE_PATH:c["default"].parse(r.originalUrl||"").pathname.replace(r.path,""),TITLE:(0,_["default"])("TITLE")},a=(0,_["default"])("CLIENT_VERSION");return a?o.send(f["default"].render(n,{config:i,assets:{customCss:(0,_["default"])("CUSTOM_CSS"),version:a}})):u["default"].readFile(d["default"].join(t,"../../dist/manifest.json"),"utf8",function(t,e){var r={config:i,assets:{customCss:(0,_["default"])("CUSTOM_CSS"),app:"bundle.js"}};!t&&e&&(r.assets=(0,s["default"])({customCss:(0,_["default"])("CUSTOM_CSS")},JSON.parse(e))),o.send(f["default"].render(n,r))})})["catch"](i)}}}).call(e,"/")},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1);e["default"]=function(){var t=(0,r.Router)();return t.get("/",function(t,e,n){t.auth0.logs.getAll({q:"NOT type: sapi AND NOT type:fapi",include_totals:!0,sort:"date:-1",per_page:20,page:t.query.page||0,fields:"type,date,client_name,user_name,description,connection"}).then(function(t){return e.json(t)})["catch"](n)}),t.get("/:id",function(t,e,n){t.auth0.logs.get({id:t.params.id}).then(function(t){if(t&&("fapi"===t.type||"sapi"===t.type))throw new Error("Invalid log record.");return t}).then(function(t){return e.json({log:t})})["catch"](n)}),t}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),s=r(o),i=n(77),u=r(i);e["default"]=function(){var t=s["default"].Router();return t.get("/",function(t,e){e.status(200).send(u["default"])}),t}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),s=n(22),i=r(s),u=n(2),a=r(u),c=n(16),l=r(c),f=n(34),p=r(f);e["default"]=function(){var t=(0,o.Router)();return t.get("/",function(t,e,n){var r={sort:"last_login:-1",q:t.query.search,per_page:t.query.per_page||100,page:t.query.page||0,include_totals:!0,fields:"user_id,name,email,identities,picture,last_login,logins_count,multifactor,blocked",search_engine:"v2"};t.auth0.users.getAll(r).then(function(t){return e.json(t)})["catch"](n)}),t.get("/:id",function(t,e,n){t.auth0.users.get({id:t.params.id}).then(function(t){return e.json({user:t})})["catch"](n)}),t["delete"]("/:id",function(t,e,n){t.auth0.users["delete"]({id:t.params.id}).then(function(){return e.sendStatus(204)})["catch"](n)}),t.post("/:email/password-reset",function(t,e,n){p["default"].getForClient((0,a["default"])("AUTH0_DOMAIN"),(0,a["default"])("AUTH0_CLIENT_ID")).then(function(e){return e.database.requestChangePasswordEmail({email:t.params.email,connection:t.body.connection,client_id:t.body.clientId})}).then(function(){return e.sendStatus(204)})["catch"](n)}),t.post("/:id/password-change",function(t,e,n){return t.body.password!==t.body.confirmPassword?n(new Error("Passwords don't match")):t.auth0.users.update({id:t.params.id},{password:t.body.password,connection:t.body.connection,verify_password:!1}).then(function(){return e.sendStatus(204)})["catch"](n)}),t.get("/:id/devices",function(t,e,n){t.auth0.deviceCredentials.getAll({user_id:t.params.id}).then(function(t){return e.json({devices:t})})["catch"](n)}),t.get("/:id/logs",function(t,e,n){l["default"].getAccessToken((0,a["default"])("AUTH0_DOMAIN"),(0,a["default"])("AUTH0_CLIENT_ID"),(0,a["default"])("AUTH0_CLIENT_SECRET")).then(function(e){var n={uri:"https://"+(0,a["default"])("AUTH0_DOMAIN")+"/api/v2/users/"+encodeURIComponent(t.params.id)+"/logs",qs:{include_totals:!0},headers:{authorization:"Bearer "+e},json:!0};return i["default"].get(n)}).then(function(t){return e.json(t)})["catch"](n)}),t["delete"]("/:id/multifactor/:provider",function(t,e,n){t.auth0.users.deleteMultifactorProvider({id:t.params.id,provider:t.params.provider}).then(function(){return e.sendStatus(204)})["catch"](n)}),t.post("/:id/block",function(t,e,n){t.auth0.users.update({id:t.params.id},{blocked:!0}).then(function(){return e.sendStatus(204)})["catch"](n)}),t.post("/:id/unblock",function(t,e,n){t.auth0.users.update({id:t.params.id},{blocked:!1}).then(function(){return e.sendStatus(204)})["catch"](n)}),t}},function(t,e,n){t.exports={"default":n(49),__esModule:!0}},function(t,e,n){t.exports={"default":n(50),__esModule:!0}},function(t,e,n){var r=n(9),o=r.JSON||(r.JSON={stringify:JSON.stringify});t.exports=function(t){return o.stringify.apply(o,arguments)}},function(t,e,n){n(76),t.exports=n(9).Object.assign},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(13);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){var r=n(21),o=n(72),s=n(71);t.exports=function(t){return function(e,n,i){var u,a=r(e),c=o(a.length),l=s(i,c);if(t&&n!=n){for(;c>l;)if(u=a[l++],u!=u)return!0}else for(;c>l;l++)if((t||l in a)&&a[l]===n)return t||l||0;return!t&&-1}}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var r=n(51);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var r=n(13),o=n(12).document,s=r(o)&&r(o.createElement);t.exports=function(t){return s?o.createElement(t):{}}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var r=n(12),o=n(9),s=n(55),i=n(60),u="prototype",a=function(t,e,n){var c,l,f,p=t&a.F,d=t&a.G,h=t&a.S,_=t&a.P,m=t&a.B,v=t&a.W,y=d?o:o[e]||(o[e]={}),g=y[u],x=d?r:h?r[e]:(r[e]||{})[u];d&&(n=e);for(c in n)l=!p&&x&&void 0!==x[c],l&&c in y||(f=l?x[c]:n[c],y[c]=d&&"function"!=typeof x[c]?n[c]:m&&l?s(f,r):v&&x[c]==f?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e[u]=t[u],e}(f):_&&"function"==typeof f?s(Function.call,f):f,_&&((y.virtual||(y.virtual={}))[c]=f,t&a.R&&g&&!g[c]&&i(g,c,f)))};a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,a.U=64,a.R=128,t.exports=a},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(63),o=n(68);t.exports=n(10)?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){t.exports=!n(10)&&!n(11)(function(){return 7!=Object.defineProperty(n(56)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){"use strict";var r=n(66),o=n(64),s=n(67),i=n(73),u=n(19),a=Object.assign;t.exports=!a||n(11)(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=a({},t)[n]||Object.keys(a({},e)).join("")!=r})?function(t,e){for(var n=i(t),a=arguments.length,c=1,l=o.f,f=s.f;a>c;)for(var p,d=u(arguments[c++]),h=l?r(d).concat(l(d)):r(d),_=h.length,m=0;_>m;)f.call(d,p=h[m++])&&(n[p]=d[p]);return n}:a},function(t,e,n){var r=n(52),o=n(61),s=n(74),i=Object.defineProperty;e.f=n(10)?Object.defineProperty:function(t,e,n){if(r(t),e=s(e,!0),r(n),o)try{return i(t,e,n)}catch(u){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(59),o=n(21),s=n(53)(!1),i=n(69)("IE_PROTO");t.exports=function(t,e){var n,u=o(t),a=0,c=[];for(n in u)n!=i&&r(u,n)&&c.push(n);for(;e.length>a;)r(u,n=e[a++])&&(~s(c,n)||c.push(n));return c}},function(t,e,n){var r=n(65),o=n(57);t.exports=Object.keys||function(t){return r(t,o)}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(70)("keys"),o=n(75);t.exports=function(t){return r[t]||(r[t]=o(t))}},function(t,e,n){var r=n(12),o="__core-js_shared__",s=r[o]||(r[o]={});t.exports=function(t){return s[t]||(s[t]={})}},function(t,e,n){var r=n(20),o=Math.max,s=Math.min;t.exports=function(t,e){return t=r(t),t<0?o(t+e,0):s(t,e)}},function(t,e,n){var r=n(20),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},function(t,e,n){var r=n(18);t.exports=function(t){return Object(r(t))}},function(t,e,n){var r=n(13);t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e,n){var r=n(58);r(r.S+r.F,"Object",{assign:n(62)})},function(t,e){t.exports={title:"Auth0 Delegated Administration Extension",name:"auth0-delegated-admin",version:"0.1.0",author:"auth0",description:"This extension allows non-dashboard administrators to manage your users.",type:"application",logoUrl:"https://cdn.auth0.com/extensions/auth0-delegated-admin/assets/logo.svg",initialUrlPath:"/",repository:"https://github.com/auth0-delegated-administration-extension/auth0-delegated-admin",keywords:["auth0","extension"],auth0:{createClient:!0,onUninstallPath:"/.extensions/on-uninstall",scopes:"read:clients read:connections read:users update:users delete:users create:users read:logs read:device_credentials update:device_credentials delete:device_credentials"},secrets:{EXTENSION_CLIENT_ID:{description:"Client ID of the application you created in the Auth0 Management Dashboard",required:!0},TITLE:{description:"Custom title for the dashboard",example:"Fabrikam User Management",required:!1},CUSTOM_CSS:{description:"A CSS file containing custom styles for the extension",example:"https://cdn.fabrikam.com/static/extensions/theme/fabrikam.css",required:!1}}}},function(t,e,n){const r=n(85),o=n(6),s=["max","maxAge","length","dispose","stale"];t.exports=function(t){const e=new r(o.pick(t,s)),n=t.load,i=t.hash,u=t.bypass,a=new Map;if(t.disable)return n;const c=function(){const t=o.toArray(arguments),r=t.slice(0,-1),s=t.slice(-1).pop(),c=this;var l;if(u&&u.apply(c,r))return n.apply(c,t);l=0!==r.length||i?i.apply(c,r):"_";var f=e.get(l);return f?s.apply(null,[null].concat(f)):void(a.get(l)?a.get(l).push(s):(a.set(l,[]),n.apply(c,r.concat(function(t){const n=o.toArray(arguments);t||e.set(l,n.slice(1)),a.get(l).forEach(function(t){t.apply(null,n)}),a["delete"](l),s.apply(null,n)}))))};return c.keys=e.keys.bind(e),c},t.exports.sync=function(t){const e=new r(o.pick(t,s)),n=t.load,i=t.hash,u=t.disable,a=t.bypass,c=this;if(u)return n;const l=function(){var t=o.toArray(arguments);if(a&&a.apply(c,arguments))return n.apply(c,arguments);var r=i.apply(c,t),s=e.get(r);if(s)return s;var u=n.apply(c,t);return e.set(r,u),u};return l.keys=e.keys.bind(e),l}},function(t,e){"use strict";function n(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n)}function r(t,e){var r=[];n(e,function(t){r.push(t)});for(var o=0;o<r.length;o+=1)t[r[o]]=e[r[o]];return t}function o(t){n(t,function(e){null===e.match(/\.node$/)&&delete t[e]})}t.exports=function(t,e){var n=r({},t);o(t);var s=e();return o(t),r(t,n),s}},function(t,e){t.exports=require("body-parser")},function(t,e){t.exports=require("ejs")},function(t,e){t.exports=require("express-jwt")},function(t,e){t.exports=require("jsonwebtoken")},function(t,e){t.exports=require("jwks-rsa")},function(t,e){t.exports=require("lru-cache")},function(t,e){t.exports=require("morgan")},function(t,e){t.exports=require("ms")},function(t,e){t.exports=require("os")},function(t,e){t.exports=require("request")},function(t,e){t.exports=require("url")},function(t,e){t.exports=require("webtask-tools")},function(t,e){t.exports=require("winston")}]);